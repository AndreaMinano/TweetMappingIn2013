<!--I completed this project for an Undergraduate course on web GIS...BACK IN 2013!
Enjoy browsing what people were watching back in 2013. When The Walking Dead was all the rage.
Though I wrote most of this code, there may be bits and pieces I copied and adapted from online tutorials and StackOverflow.

By Andrea Minano Goldring-->
<!DOCTYPE html>
<html>
<head>
	<title>Mapping TV Ratings with Tweets</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<!--<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />-->
	<!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.ie.css" /><![endif]-->
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
	 		function reverseValue(value){
			if (value == 1){return "Bones, Castle, Dancing with the Stars, The Biggest Loser";}
			else if (value == 2){return "Bones, Dancing with the Stars";}
			else if (value == 3){return "Bones, The Biggest Loser";}
			else if (value == 4){return "Carrie Diaries, How I Met Your Mother";}
			else if (value == 5){return "Castle";}
			else if (value == 6){return "Castle, Dancing with the Stars";}
			else if (value == 7){return "Castle, How I Met Your Mother";}
			else if (value == 8){return "Castle, RuPaul's Drag Race";}
			else if (value == 9){return "Castle, RuPaul's Drag Race, How I Met Your Mother";}
			else if (value == 10){return "Dancing with the Stars";}
			else if (value == 11){return "Dancing with the Stars, The Biggest Loser";}
			else if (value == 12){return "Lab Rats";}
			else if (value == 13){return "Masterchef";}
			else if (value == 14){return "RuPaul's Drag Race";}
			else if (value == 15){return "RuPaul's Drag Race, Dancing with the Stars";}
			else if (value == 16){return "RuPaul's Drag Race, How I Met Your Mother";}
			else if (value == 17){return "RuPaul's Drag Race, The Secret Life of the American Teenager, Real Housewives";}
			else if (value == 18){return "Teen Mom";}
			else if (value == 19){return "Teen Mom, Castle";}
			else if (value == 20){return "Teen Mom, Dancing with the Stars";}
			else if (value == 21){return "Teen Mom, Dancing with the Stars, The Biggest Loser";}
			else if (value == 22){return "Teen Mom, The Biggest Loser";}
			else if (value == 23){return "Teen Mom, The Biggest Loser, Real Housewives";}
			else if (value == 24){return "The Biggest Loser";}
			else if (value == 25){return "The Biggest Loser, How I Met Your Mother";}
			else if (value == 26){return "The Biggest Loser, Real Housewives";}
			else {return "Others";}
		}
	 
      function drawChart(in_array) {
		var arr = new Array(40);
		arr = [['TV Show', 'Number of Tweets']];
		var count = 1;
		var name;
		var name_len;
		var num_var;
		for (var i = 0; i < in_array.length; i++){
			name = reverseValue(in_array[i][0]);
			num_var = in_array[i][1];
			name_len = name.split(", ");
			for (var j = 0; j < name_len.length; j++){
				arr[count] = [name_len[j], num_var];
				count = count + 1;
			}
		}
		
		var data = google.visualization.arrayToDataTable(arr);

        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
        chart.draw(data, {title: 'Number of Tweets per TV Show'});
      }
	  
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
    </script>
	<style>
	
		body {
		background: #000000;
		}
		
		#map {
		position: fixed; 
		top: 0; 
		left: 0; 
	
		/* Preserve aspet ratio */
		min-width: 100%;
		min-height: 100%;
		}
		
		.popup {
		width: 800px;
		}
		
		h3 {
		text-align: center;
		}
		h4 {
		font: 14px Courier; 
		text-align: center;
		color: #FF3300;
		}
		
		h5 {
		text-align: center;
		font: 12px Courier;
		}

		h6 {
		text-align: right;
		font: 12px Courier;
		}
		
		A:link {font: verdana; font-size: 14px; font-weight: bold; color: #000000; text-decoration: none}
		A:visited {font: verdana; font-size: 14px; font-weight: bold; color: #000000; text-decoration: none}
		A:active {font: verdana; font-size: 14px; font-weight: bold; color: #000000; text-decoration: none}
		A:hover {font: verdana; font-size: 14px; font-weight: bold; color: #FF6600}
		
		.info {
			padding: 6px 8px;
			text-align: center;
			font: 14px/16px Arial, Helvetica, sans-serif;
			background: white;
			background: rgba(255,255,255,1);
			box-shadow: 0 0 15px rgba(0,0,0,0.2);
			width: 280px;

		}

		.info2 {
			padding: 6px 8px;
			font: 14px/16px Arial, Helvetica, sans-serif;
			border-radius: 5px;
		}
		
		.info h2 {
			margin: 0 0 5px;
			color: #000000;
		}
		
		.legend {
			text-align: left;
			line-height: 18px;
			bottom: 25px;
			color: #555;
		}
		.legend i {
			width: 18px;
			height: 18px;
			float: left;
			margin-right: 8px;
			opacity: 0.7;
		}
	</style>
</head>
<body>
	<div id="map"></div>
	
	<!--<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>-->
	<script src="data/monday.json"></script>
	<script src="data/monday/monday.json"></script>
	<script src="data/monday/monday_biggestloser.json"></script>
	<script src="data/monday/monday_bones.json"></script>
	<script src="data/monday/monday_carriediaries.json"></script>
	<script src="data/monday/monday_castle.json"></script>
	<script src="data/monday/monday_dwts.json"></script>
	<script src="data/monday/monday_hawaii.json"></script>
	<script src="data/monday/monday_himym.json"></script>
	<script src="data/monday/monday_labrats.json"></script>
	<script src="data/monday/monday_masterchef.json"></script>
	<script src="data/monday/monday_realhousewives.json"></script>
	<script src="data/monday/monday_rulesofe.json"></script>
	<script src="data/monday/monday_rupaul.json"></script>
	<script src="data/monday/monday_secretlife.json"></script>
	<script src="data/monday/monday_teenmom.json"></script>
	
	<script>
		//create map object and import basemap
		var map = L.map('map').setView([37.8, -88], 4);
		
		L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attribution">CARTO</a>',
		}).addTo(map);
		
		// title of the map
		var info = L.control();

		info.onAdd = function (map) {
			this._div = L.DomUtil.create('div', 'info');
			this.update();
			return this._div;
		};

		info.update = function (props) {
			this._div.innerHTML = "<h2>Tweet-Mapping TV Ratings<br>Monday, March 18, 2013</h2><br>" + 
			"<div class='info2 legend'><b>Top Tweeted TV Show</b><br><i style ='background:#000066'></i>Castle<br>" +
			"<i style ='background:#33CC66'></i>Dancing with the Stars<br>" +
			"<i style ='background:#990099'></i>Masterchef<br>" +
			//"<i style ='background:#FFCC33'></i>RuPaul's Drag Race & Others<br>" +
			"<i style ='background:#FF6600'></i>Teen Mom<br>" +
			//"<i style ='background:#FF0000'></i>Teen Mom & Others<br>" + 
			"<i style ='background:#FF6666'></i>The Biggest Loser<br>" + 
			"<i style ='background:#FFCC33'></i>Various Shows<br>" +
			"<br><img src= 'img/MondayTV_zps84d13239.JPG' width='260' height='170' border='0'/>" +
			"<img src= 'img/MondayTweets_zps21f7b641.JPG' width='260' height='170' border='0'/>" +
			
			"</div>";
		};

		info.addTo(map);

		var info2 = L.control();

		info2.onAdd = function (map) {
			this._div = L.DomUtil.create('div', 'info');
			this.update();
			return this._div;
		};

		info2.update = function (props) {
			this._div.innerHTML = "<a href='index.html'>MON  </a><a href='tuesday.html'>TUE  </a><a href='wednesday.html'>WED  </a><a href='thursday.html'>THU  </a><a href='friday.html'>FRI  </a><a href='saturday.html'>SAT  </a><a href='sunday.html'>SUN  </a>";
		};

		info2.addTo(map);
		
		// get color depending on population density value
		function getColor_Monday(d) {
			return d == 'Castle' ? '#000066' :
				   d == 'Dancing with the Stars' ? '#33CC66' :
				   d == 'Masterchef' ? '#990099' :
				   d == "RuPaul's Drag Race, Dancing with the Stars" ? '#FFCC33' : 
				   d == "RuPaul's Drag Race, The Secret Life of the American Teenager, Real Housewives" ? '#FFCC33' :
				   d == 'Teen Mom' ? '#FF6600' : 
				   d == 'Teen Mom, Castle' ? '#FFCC33' : 
				   d == 'Teen Mom, Dancing with the Stars' ? '#FFCC33' : 
				   d == 'Teen Mom, Dancing with the Stars, The Biggest Loser' ? '#FFCC33' : 
				   d == 'Teen Mom, The Biggest Loser' ? '#FFCC33' : 
				   d == 'The Biggest Loser' ? '#FF6666' : 
							'#FFFFFF';
		}
		
		//style features
		function style_Monday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Monday(feature.properties.m_max1)
			};
		}
		
		function getValue_monday(name){
			if (name == 'Bones, Castle, Dancing with the Stars, The Biggest Loser'){return 1;}
			else if (name == 'Bones, Dancing with the Stars'){return 2;}
			else if (name == 'Bones, The Biggest Loser'){return 3;}
			else if (name == 'Carrie Diaries, How I Met Your Mother'){return 4;}
			else if (name == 'Castle'){return 5;}
			else if (name == 'Castle, Dancing with the Stars'){return 6;}
			else if (name == 'Castle, How I Met Your Mother'){return 7;}
			else if (name == "Castle, RuPaul's Drag Race"){return 8;}
			else if (name == "Castle, RuPaul's Drag Race, How I Met Your Mother"){return 9;}
			else if (name == "Dancing with the Stars"){return 10;}
			else if (name == "Dancing with the Stars, The Biggest Loser"){return 11;}
			else if (name == "Lab Rats"){return 12;}
			else if (name == "Masterchef"){return 13;}
			else if (name == "RuPaul's Drag Race"){return 14;}
			else if (name == "RuPaul's Drag Race, Dancing with the Stars"){return 15;}
			else if (name == "RuPaul's Drag Race, How I Met Your Mother"){return 16;}
			else if (name == "RuPaul's Drag Race, The Secret Life of the American Teenager, Real Housewives"){return 17;}
			else if (name == 'Teen Mom'){return 18;}
			else if (name == 'Teen Mom, Castle'){return 19;}
			else if (name == 'Teen Mom, Dancing with the Stars'){return 20;}
			else if (name == 'Teen Mom, Dancing with the Stars, The Biggest Loser'){return 21;}
			else if (name == 'Teen Mom, The Biggest Loser'){return 22;}
			else if (name == 'Teen Mom, The Biggest Loser, Real Housewives'){return 23;}
			else if (name == 'The Biggest Loser'){return 24;}
			else if (name == 'The Biggest Loser, How I Met Your Mother'){return 25;}
			else if (name == 'The Biggest Loser, Real Housewives'){return 26;}
			else {return 9999;}
		}
		
		//create pop up window
		function onEachFeature_Monday(feature, layer) {
		if (feature.properties && feature.properties.m_max1 && feature.properties.m_max2 && feature.properties.m_max3){
			var max1 = getValue_monday(feature.properties.m_max1);
			var max2 = getValue_monday(feature.properties.m_max2);
			var max3 = getValue_monday(feature.properties.m_max3);
			var other = getValue_monday('Others');
			layer.bindPopup("<b><h3>" + feature.properties.NAME10 + "<br></h3>Most Popular TV Show(s): </b>" + feature.properties.m_max1 + "<br><br><center><button onclick='drawChart([[" + max1 + ", " + feature.properties.m_count1 + "],[" + max2 + ", " + feature.properties.m_count2 + "],[" + max3 + ", " + feature.properties.m_count3 + "],[" + other + ", " + feature.properties.m_other + "]])'>Click for more info</button><div id='chart_div' style='width: 300px; height: 200px;'></center></div>");
		}
		else if (feature.properties.m_max1 && feature.properties.m_max2){
			var max1 = getValue_monday(feature.properties.m_max1);
			var max2 = getValue_monday(feature.properties.m_max2);
			var other = getValue_monday('Others');
			layer.bindPopup("<b><h3>" + feature.properties.NAME10 + "<br></h3>Most Popular TV Show(s): </b>" + feature.properties.m_max1 + "<br><br><center><button onclick='drawChart([[" + max1 + ", " + feature.properties.m_count1 + "],[" + max2 + ", " + feature.properties.m_count2 + "],[" + other + ", " + feature.properties.m_other + "]])'>Click for more info</button><div id='chart_div' style='width: 300px; height: 200px;'></center></div>");
		}
		else if (feature.properties.m_max1){
			var max1 = getValue_monday(feature.properties.m_max1);
			var other = getValue_monday('Others');
			layer.bindPopup("<b><h3>" + feature.properties.NAME10 + "<br></h3>Most Popular TV Show(s): </b>" + feature.properties.m_max1 + "<br><br><center><button onclick='drawChart([[" + max1 + ", " + feature.properties.m_count1 + "],[" + other + ", " + feature.properties.m_other + "]])'>Click for more info</button><div id='chart_div' style='width: 300px; height: 200px;'></center></div>");
		}
		else {
			layer.bindPopup("Sorry! No tweets were available for this state");
		}
		
		}
		
		//create pop up for tweet
		function onEachFeature_Tweet(feature, layer){
			layer.bindPopup('<h5>' + feature.properties.tweet + '<h6>-@' + feature.properties.user + '</h6>');
		}
		//tuesday
		
		function getColor_Tuesday(d) {
			return d == 'Mindy Project, New Girl' ? '#006600' :
				   d == 'Pretty Little Liars' ? '#04B404' :
				   d == 'Pretty Little Liars, Snooki & JWOWW' ? '#81F781' :
				   d == 'Pretty Little Liars, Snooki & JWOWW, NCIS' ? '#FFFF66' : 
				   d == 'Snooki & JWOWW' ? '#FF6600' :
							'#FFFFFF';
		}
		
		//style features
		function style_Tuesday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Tuesday(feature.properties.tu_max1)
			};
		}
		
		//wednesday

		function getColor_Wednesday(d) {
			return d == 'American Idol' ? '#006600' :
				   d == 'CSI, Survivor, Supernatural' ? '#04B404' :
				   d == 'Duck Dynasty' ? '#81F781' :
				   d == 'Duck Dynasty, American Idol' ? '#FFFF66' : 
				   d == 'Duck Dynasty, Workaholics' ? '#FFFF66' : 
				   d == 'Duck Dynasty, Workaholics, American Idol, Survivor' ? '#FFFF66' : 
				   d == 'Psych' ? '#FF6600' :
				   d == 'Supernatural' ? '#FF6600' :
				   d == 'Workaholics' ? '#FF6600' :
							'#FFFFFF';
		}
		
		//style features
		function style_Wednesday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Wednesday(feature.properties.w_max1)
			};
		}		
		
		//thursday
		function getColor_Thursday(d) {
			return d == 'American Idol' ? '#006600' :
				   d == 'American Idol, Scandal' ? '#04B404' :
				   d == 'Glee' ? '#81F781' :
				   d == 'Glee, American Idol' ? '#FFFF66' : 
				   d == "Glee, NHL, Vampire Diaries, Grey's Anatomy, American Idol, Scandal" ? '#FFFF66' : 
				   d == 'Glee, Scandal' ? '#FF6600' :
				   d == 'NHL' ? '#FF6600' :
				   d == 'Scandal' ? '#FF6600' :
				   d == 'Vampire Diaries' ? '#FF6600' :
				   d == 'Vampire Diaries, American Idol' ? '#FF6600' :
				   d == 'Wife Swap' ? '#FF6600' :
							'#FFFFFF';
		}
		
		//style features
		function style_Thursday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Thursday(feature.properties.th_max1)
			};
		}		
		//friday
		function getColor_Friday(d) {
			return d == 'Bill Maher, Say Yes to the Dress' ? '#006600' :
				   d == 'Bill Maher, Say Yes to the Dress, Grimm' ? '#04B404' :
				   d == 'Degrassi' ? '#81F781' :
				   d == 'Fashion Police' ? '#FFFF66' : 
				   d == 'Fashion Police, Say Yes to the Dress' ? '#FF6600' :
				   d == 'Grimm' ? '#FF6600' :
				   d == 'Grimm, Spartacus' ? '#FF6600' :
				   d == 'Jay Leno' ? '#FF6600' :
				   d == 'Kitchen Nightmares' ? '#FF6600' :
				   d == 'Say Yes to the Dress' ? '#FF6600' :
				   d == 'Say Yes to the Dress, Degrassi' ? '#FF6600' :
				   d == 'Say Yes to the Dress, Grimm' ? '#FF6600' :
				   d == 'Say Yes to the Dress, Jimmy Fallon' ? '#FF6600' :
				   d == 'Spartacus' ? '#FF6600' :
				   d == 'Spartacus, Degrassi' ? '#FF6600' :
				   d == 'Touch' ? '#FF6600' :
				   d == 'Touch, Degrassi' ? '#FF6600' :
				   d == 'Touch, Fashion Police, Say Yes to the Dress' ? '#FF6600' :
				   d == 'Touch, Spartacus, Degrassi' ? '#FF6600' :
							'#FFFFFF';
		}
		
		//style features
		function style_Friday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Friday(feature.properties.f_max1)
			};
		}		
		//saturday
		function getColor_Saturday(d) {
			return d == 'Redneck Vacation' ? '#006600' :
				   d == 'The Real World' ? '#04B404' :
				   d == 'The Real World, Redneck Vacation' ? '#81F781' :
							'#FFFFFF';
		}
		
		//style features
		function style_Saturday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Saturday(feature.properties.sa_max1)
			};
		}		
		//sunday
		function getColor_Sunday(d) {
			return d == 'The Walking Dead' ? '#006600' :
							'#FFFFFF';
		}
		
		//style features
		function style_Sunday(feature) {
			return {
				weight: 1,
				opacity: 1,
				color: '#424242',
				fillOpacity: 0.7,
				fillColor: getColor_Sunday(feature.properties.su_max1)
			};
		}

		//state json
		week_json_monday = new L.geoJson(all_week, {style: style_Monday, onEachFeature: onEachFeature_Monday});
		//tweet json
		all_tweets_json = new L.geoJson(all_tweets, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#ff7800",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		biggest_loser_json = new L.geoJson(biggest_loser, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#52FF52",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		bones_json = new L.geoJson(bones, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#F8FF2E",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		carrie_diaries_json = new L.geoJson(carrie_diaries, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#FFA514",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		castle_json = new L.geoJson(castle, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#CC8C25",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		dwts_json = new L.geoJson(dwts, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#FF8E69",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		hawaii_json = new L.geoJson(hawaii, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#FF1717",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		himym_json = new L.geoJson(himym, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#FF1778",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		labrats_json = new L.geoJson(lab_rats, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#B617FF",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		masterchef_json = new L.geoJson(masterchef, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#3617FF",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		realhousewives_json = new L.geoJson(real_housewives, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#9B8DF7",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		rulesofe_json = new L.geoJson(rules_of_e, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#8DEDF7",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		rupaul_json = new L.geoJson(ru_paul, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#07B595",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		secretlife_json = new L.geoJson(secret_life, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#0DA347",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		teenmom_json = new L.geoJson(teen_mom, {onEachFeature: onEachFeature_Tweet, pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 3,
					fillColor: "#F2CA16",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8});
		}});
		
		//week_json_tuesday = new L.geoJson(all_week, {style: style_Tuesday, onEachFeature: onEachFeature});
		//week_json_wednesday = new L.geoJson(all_week, {style: style_Wednesday, onEachFeature: onEachFeature});
		//week_json_thursday = new L.geoJson(all_week, {style: style_Thursday, onEachFeature: onEachFeature});
		//week_json_friday = new L.geoJson(all_week, {style: style_Friday, onEachFeature: onEachFeature});
		//week_json_saturday = new L.geoJson(all_week, {style: style_Saturday, onEachFeature: onEachFeature});
		//week_json_sunday = new L.geoJson(all_week, {style: style_Sunday, onEachFeature: onEachFeature});
		
		//creating legend
		var legendMonday = L.control({position: 'bottomleft'});

		legendMonday.onAdd = function (map) {

		var div = L.DomUtil.create('div', 'info legend'),
				grades = ['Castle', 'Dancing with the Stars', 'Masterchef', "RuPaul's Drag Race, Dancing with the Stars", "RuPaul's Drag Race, The Secret Life of the American Teenager, Real Housewives", 'Teen Mom', 'Teen Mom, Castle', 'Teen Mom, Dancing with the Stars', 'Teen Mom, Dancing with the Stars, The Biggest Loser', 'Teen Mom, The Biggest Loser', 'The Biggest Loser'],
				labels = ['<b>Legend</b>'],
				from;

		for (var i = 0; i < grades.length; i++) {
				from = grades[i];

				labels.push(
					'<i style="background:' + getColor_Monday(from) + '"></i> ' + from);
			}

			div.innerHTML = labels.join('<br>');
			return div;
		};	
		
		//legendMonday.addTo(map);
		
		//add group layers to the map
		var week_layer_monday = new L.LayerGroup();
		week_layer_monday.addLayer(week_json_monday);

		var all_tweets_layer = new L.LayerGroup();
		all_tweets_layer.addLayer(all_tweets_json);
		
		var biggest_loser_layer = new L.LayerGroup();
		biggest_loser_layer.addLayer(biggest_loser_json);
		
		var bones_layer = new L.LayerGroup();
		bones_layer.addLayer(bones_json);
		
		var carrie_diaries_layer = new L.LayerGroup();
		carrie_diaries_layer.addLayer(carrie_diaries_json);
		
		var castle_layer = new L.LayerGroup();
		castle_layer.addLayer(castle_json);
		
		var dwts_layer = new L.LayerGroup();
		dwts_layer.addLayer(dwts_json);

		var hawaii_layer = new L.LayerGroup();
		hawaii_layer.addLayer(hawaii_json);

		var himym_layer = new L.LayerGroup();
		himym_layer.addLayer(himym_json);
		
		var lab_rats_layer = new L.LayerGroup();
		lab_rats_layer.addLayer(labrats_json);

		var masterchef_layer = new L.LayerGroup();
		masterchef_layer.addLayer(masterchef_json);	

		var realhousewives_layer = new L.LayerGroup();
		realhousewives_layer.addLayer(realhousewives_json);

		var rulesofe_layer = new L.LayerGroup();
		rulesofe_layer.addLayer(rulesofe_json);		

		var rupaul_layer = new L.LayerGroup();
		rupaul_layer.addLayer(rupaul_json);	

		var secretlife_layer = new L.LayerGroup();
		secretlife_layer.addLayer(secretlife_json);	

		var teenmom_layer = new L.LayerGroup();
		teenmom_layer.addLayer(teenmom_json);	
		
		//var week_layer_tuesday = new L.LayerGroup();
		//week_layer_tuesday.addLayer(week_json_tuesday);

		//var week_layer_wednesday = new L.LayerGroup();
		//week_layer_wednesday.addLayer(week_json_wednesday);
		
		//var week_layer_thursday = new L.LayerGroup();
		//week_layer_thursday.addLayer(week_json_thursday);
		
		//var week_layer_friday = new L.LayerGroup();
		//week_layer_friday.addLayer(week_json_friday);
		
		//var week_layer_saturday = new L.LayerGroup();
		//week_layer_saturday.addLayer(week_json_saturday);
		
		//var week_layer_sunday = new L.LayerGroup();
		//week_layer_sunday.addLayer(week_json_sunday);
		
		map.addLayer(week_layer_monday);
		
		var overlayMaps = {
		"States": week_layer_monday,
		//"Tuesday": week_layer_tuesday,
		//"Wednesday": week_layer_wednesday,
		//"Thursday": week_layer_thursday,
		//"Friday": week_layer_friday,
		//"Saturday": week_layer_saturday,
		//"Sunday": week_layer_sunday
		};
		
		var otherLayers = {
		"All Tweets": all_tweets_layer,
		"The Biggest Loser": biggest_loser_layer,
		"Bones": bones_layer,
		"Carrie Diaries": carrie_diaries_layer,
		"Castle": castle_layer,
		"Dancing with the Stars": dwts_layer,
		"Hawaii Five-0": hawaii_layer,
		"How I Met Your Mother": himym_layer,
		"Lab Rats": lab_rats_layer,
		"Masterchef": masterchef_layer,
		"Real Housewives": realhousewives_layer,
		"Rules of Engagement": rulesofe_layer,
		"RuPaul's Drag Race": rupaul_layer,
		"The Secret Life of the American Teenager": secretlife_layer,
		"Teen Mom": teenmom_layer
		};
		
		var layersControl = new L.Control.Layers(null, otherLayers, {position: 'topleft', collapsed: true, autoZIndex: false});

		map.addControl(layersControl);
		//L.control.layers(overlayMaps, otherLayers, {position: 'topleft', collapsed: false, autoZIndex: false}).addTo(map);
	</script>
</body>
</html>
